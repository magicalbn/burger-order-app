{"id":"esD+","dependencies":[{"name":"E:\\HTML\\React Projects\\burger-builder\\.babelrc","includedInParent":true,"mtime":1604411538579},{"name":"E:\\HTML\\React Projects\\burger-builder\\package.json","includedInParent":true,"mtime":1610884045910},{"name":"./actionTypes","loc":{"line":1,"column":29},"parent":"E:\\HTML\\React Projects\\burger-builder\\src\\store\\actions\\auth.js","resolved":"E:\\HTML\\React Projects\\burger-builder\\src\\store\\actions\\actionTypes.js"},{"name":"axios","loc":{"line":2,"column":18},"parent":"E:\\HTML\\React Projects\\burger-builder\\src\\store\\actions\\auth.js","resolved":"E:\\HTML\\React Projects\\burger-builder\\node_modules\\axios\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.autoSignin=exports.authInit=exports.logOut=void 0;var e=n(require(\"./actionTypes\")),t=r(require(\"axios\"));function r(e){return e&&e.__esModule?e:{default:e}}function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=n?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var a=function(){return{type:e.AUTH_START}},i=function(t,r){return{type:e.AUTH_SUCCESS,idToken:t.idToken,userID:t.localId,email:r}},l=function(t){return{type:e.AUTH_FAILED,error:t}},u=function(){return localStorage.removeItem(\"token\"),localStorage.removeItem(\"userId\"),localStorage.removeItem(\"email\"),localStorage.removeItem(\"expiryTime\"),{type:e.LOG_OUT}};exports.logOut=u;var c=function(e){return function(t){setInterval(function(){},1e3*e)}},s=function(e,r,o){return function(n){n(a());var u=\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBeNNEfi6Wqci0sjvsd8reJBu1KgGjSkxU\";o||(u=\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBeNNEfi6Wqci0sjvsd8reJBu1KgGjSkxU\");var s={email:e,password:r,returnSecureToken:!0};t.default.post(u,s).then(function(t){localStorage.setItem(\"token\",t.data.idToken),localStorage.setItem(\"userId\",t.data.localId),localStorage.setItem(\"email\",e);var r=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem(\"expiryTime\",r),n(i(t.data,e)),n(c(t.data.expiresIn))}).catch(function(e){console.log(\"Auth Error\",e.response),n(l(e.response.data.error.message))})}};exports.authInit=s;var p=function(){return function(e){if(localStorage.getItem(\"token\"))if(new Date(localStorage.getItem(\"expiryTime\"))<new Date)e(u());else{var t={idToken:localStorage.getItem(\"token\"),localId:localStorage.getItem(\"userId\")},r=new Date(localStorage.getItem(\"expiryTime\")),o=localStorage.getItem(\"email\");e(i(t,o)),e(c((r.getTime()-(new Date).getTime())/1e3))}else e(u())}};exports.autoSignin=p;","map":{"mappings":[{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":0}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":13}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":20}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":35}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":43}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":56}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":57}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":64}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":68}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":76}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":87}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":95}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":104}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":112}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":124}},{"source":"store/actions/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"store/actions/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":130}},{"source":"store/actions/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":132}},{"source":"store/actions/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":134}},{"source":"store/actions/auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":142}},{"source":"store/actions/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":160}},{"source":"store/actions/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":162}},{"source":"store/actions/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":164}},{"source":"store/actions/auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":172}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":182}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":191}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":193}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":196}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":203}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":206}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":208}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":219}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":221}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":222}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":230}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":233}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":242}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":246}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":249}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":268}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":276}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":283}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":288}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":292}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":294}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":298}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":306}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":313}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":315}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":326}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":333}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":336}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":338}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":347}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":349}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":352}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":355}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":358}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":360}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":371}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":378}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":380}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":383}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":390}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":393}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":410}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":413}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":432}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":434}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":440}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":441}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":449}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":452}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":456}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":458}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":462}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":465}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":468}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":470}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":474}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":477}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":484}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":486}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":490}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":493}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":497}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":499}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":502}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":504}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":511}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":527}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":534}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":559}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":563}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":567}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":572}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":574}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":577}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":584}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":594}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":609}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":614}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":616}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":619}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":620}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":624}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":626}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":628}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":635}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":660}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":662}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":665}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":670}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":674}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":676}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":681}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":683}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":688}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":695}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":710}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":712}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":714}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":717}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":719}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":722}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":724}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":727}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":734}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":736}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":744}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":746}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":749}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":751}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":755}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":757}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":760}},{"source":"store/actions/auth.js","original":{"line":4,"column":0},"generated":{"line":1,"column":762}},{"source":"store/actions/auth.js","name":"authStart","original":{"line":4,"column":6},"generated":{"line":1,"column":766}},{"source":"store/actions/auth.js","original":{"line":4,"column":18},"generated":{"line":1,"column":768}},{"source":"store/actions/auth.js","original":{"line":5,"column":11},"generated":{"line":1,"column":779}},{"source":"store/actions/auth.js","original":{"line":5,"column":11},"generated":{"line":1,"column":785}},{"source":"store/actions/auth.js","name":"type","original":{"line":6,"column":8},"generated":{"line":1,"column":786}},{"source":"store/actions/auth.js","name":"actionTypes","original":{"line":6,"column":14},"generated":{"line":1,"column":791}},{"source":"store/actions/auth.js","name":"AUTH_START","original":{"line":6,"column":26},"generated":{"line":1,"column":793}},{"source":"store/actions/auth.js","name":"authSuccess","original":{"line":9,"column":6},"generated":{"line":1,"column":806}},{"source":"store/actions/auth.js","original":{"line":9,"column":20},"generated":{"line":1,"column":808}},{"source":"store/actions/auth.js","name":"authData","original":{"line":9,"column":21},"generated":{"line":1,"column":817}},{"source":"store/actions/auth.js","name":"email","original":{"line":9,"column":31},"generated":{"line":1,"column":819}},{"source":"store/actions/auth.js","original":{"line":12,"column":11},"generated":{"line":1,"column":822}},{"source":"store/actions/auth.js","original":{"line":12,"column":11},"generated":{"line":1,"column":828}},{"source":"store/actions/auth.js","name":"type","original":{"line":13,"column":8},"generated":{"line":1,"column":829}},{"source":"store/actions/auth.js","name":"actionTypes","original":{"line":13,"column":14},"generated":{"line":1,"column":834}},{"source":"store/actions/auth.js","name":"AUTH_SUCCESS","original":{"line":13,"column":26},"generated":{"line":1,"column":836}},{"source":"store/actions/auth.js","name":"idToken","original":{"line":14,"column":8},"generated":{"line":1,"column":849}},{"source":"store/actions/auth.js","name":"authData","original":{"line":14,"column":17},"generated":{"line":1,"column":857}},{"source":"store/actions/auth.js","name":"idToken","original":{"line":14,"column":26},"generated":{"line":1,"column":859}},{"source":"store/actions/auth.js","name":"userID","original":{"line":15,"column":8},"generated":{"line":1,"column":867}},{"source":"store/actions/auth.js","name":"authData","original":{"line":15,"column":16},"generated":{"line":1,"column":874}},{"source":"store/actions/auth.js","name":"localId","original":{"line":15,"column":25},"generated":{"line":1,"column":876}},{"source":"store/actions/auth.js","name":"email","original":{"line":16,"column":8},"generated":{"line":1,"column":884}},{"source":"store/actions/auth.js","name":"email","original":{"line":16,"column":15},"generated":{"line":1,"column":890}},{"source":"store/actions/auth.js","name":"authFail","original":{"line":19,"column":6},"generated":{"line":1,"column":894}},{"source":"store/actions/auth.js","original":{"line":19,"column":17},"generated":{"line":1,"column":896}},{"source":"store/actions/auth.js","name":"error","original":{"line":19,"column":18},"generated":{"line":1,"column":905}},{"source":"store/actions/auth.js","original":{"line":20,"column":11},"generated":{"line":1,"column":908}},{"source":"store/actions/auth.js","original":{"line":20,"column":11},"generated":{"line":1,"column":914}},{"source":"store/actions/auth.js","name":"type","original":{"line":21,"column":8},"generated":{"line":1,"column":915}},{"source":"store/actions/auth.js","name":"actionTypes","original":{"line":21,"column":14},"generated":{"line":1,"column":920}},{"source":"store/actions/auth.js","name":"AUTH_FAILED","original":{"line":21,"column":26},"generated":{"line":1,"column":922}},{"source":"store/actions/auth.js","name":"error","original":{"line":22,"column":8},"generated":{"line":1,"column":934}},{"source":"store/actions/auth.js","name":"error","original":{"line":22,"column":15},"generated":{"line":1,"column":940}},{"source":"store/actions/auth.js","name":"logOut","original":{"line":26,"column":13},"generated":{"line":1,"column":944}},{"source":"store/actions/auth.js","original":{"line":26,"column":22},"generated":{"line":1,"column":946}},{"source":"store/actions/auth.js","original":{"line":31,"column":11},"generated":{"line":1,"column":957}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":27,"column":4},"generated":{"line":1,"column":964}},{"source":"store/actions/auth.js","name":"removeItem","original":{"line":27,"column":17},"generated":{"line":1,"column":977}},{"source":"store/actions/auth.js","original":{"line":27,"column":28},"generated":{"line":1,"column":988}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":28,"column":4},"generated":{"line":1,"column":997}},{"source":"store/actions/auth.js","name":"removeItem","original":{"line":28,"column":17},"generated":{"line":1,"column":1010}},{"source":"store/actions/auth.js","original":{"line":28,"column":28},"generated":{"line":1,"column":1021}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":29,"column":4},"generated":{"line":1,"column":1031}},{"source":"store/actions/auth.js","name":"removeItem","original":{"line":29,"column":17},"generated":{"line":1,"column":1044}},{"source":"store/actions/auth.js","original":{"line":29,"column":28},"generated":{"line":1,"column":1055}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":30,"column":4},"generated":{"line":1,"column":1064}},{"source":"store/actions/auth.js","name":"removeItem","original":{"line":30,"column":17},"generated":{"line":1,"column":1077}},{"source":"store/actions/auth.js","original":{"line":30,"column":28},"generated":{"line":1,"column":1088}},{"source":"store/actions/auth.js","original":{"line":31,"column":11},"generated":{"line":1,"column":1102}},{"source":"store/actions/auth.js","name":"type","original":{"line":32,"column":8},"generated":{"line":1,"column":1103}},{"source":"store/actions/auth.js","name":"actionTypes","original":{"line":32,"column":14},"generated":{"line":1,"column":1108}},{"source":"store/actions/auth.js","name":"LOG_OUT","original":{"line":32,"column":26},"generated":{"line":1,"column":1110}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1120}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1128}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1135}},{"source":"store/actions/auth.js","original":{"line":36,"column":0},"generated":{"line":1,"column":1137}},{"source":"store/actions/auth.js","name":"checkTimeout","original":{"line":36,"column":6},"generated":{"line":1,"column":1141}},{"source":"store/actions/auth.js","original":{"line":36,"column":21},"generated":{"line":1,"column":1143}},{"source":"store/actions/auth.js","name":"expirationTime","original":{"line":36,"column":22},"generated":{"line":1,"column":1152}},{"source":"store/actions/auth.js","original":{"line":37,"column":11},"generated":{"line":1,"column":1155}},{"source":"store/actions/auth.js","original":{"line":37,"column":11},"generated":{"line":1,"column":1162}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":37,"column":11},"generated":{"line":1,"column":1171}},{"source":"store/actions/auth.js","name":"setInterval","original":{"line":38,"column":8},"generated":{"line":1,"column":1174}},{"source":"store/actions/auth.js","original":{"line":38,"column":20},"generated":{"line":1,"column":1186}},{"source":"store/actions/auth.js","original":{"line":41,"column":28},"generated":{"line":1,"column":1199}},{"source":"store/actions/auth.js","name":"expirationTime","original":{"line":41,"column":11},"generated":{"line":1,"column":1203}},{"source":"store/actions/auth.js","name":"authInit","original":{"line":46,"column":13},"generated":{"line":1,"column":1208}},{"source":"store/actions/auth.js","original":{"line":46,"column":24},"generated":{"line":1,"column":1210}},{"source":"store/actions/auth.js","name":"email","original":{"line":46,"column":25},"generated":{"line":1,"column":1219}},{"source":"store/actions/auth.js","name":"password","original":{"line":46,"column":32},"generated":{"line":1,"column":1221}},{"source":"store/actions/auth.js","name":"isSignup","original":{"line":46,"column":42},"generated":{"line":1,"column":1223}},{"source":"store/actions/auth.js","original":{"line":47,"column":11},"generated":{"line":1,"column":1226}},{"source":"store/actions/auth.js","original":{"line":47,"column":11},"generated":{"line":1,"column":1233}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":47,"column":11},"generated":{"line":1,"column":1242}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":49,"column":8},"generated":{"line":1,"column":1245}},{"source":"store/actions/auth.js","name":"authStart","original":{"line":49,"column":17},"generated":{"line":1,"column":1247}},{"source":"store/actions/auth.js","name":"url","original":{"line":50,"column":12},"generated":{"line":1,"column":1252}},{"source":"store/actions/auth.js","name":"url","original":{"line":50,"column":12},"generated":{"line":1,"column":1256}},{"source":"store/actions/auth.js","original":{"line":50,"column":18},"generated":{"line":1,"column":1258}},{"source":"store/actions/auth.js","name":"isSignup","original":{"line":51,"column":13},"generated":{"line":1,"column":1362}},{"source":"store/actions/auth.js","name":"url","original":{"line":52,"column":12},"generated":{"line":1,"column":1366}},{"source":"store/actions/auth.js","original":{"line":52,"column":18},"generated":{"line":1,"column":1368}},{"source":"store/actions/auth.js","name":"authData","original":{"line":54,"column":12},"generated":{"line":1,"column":1485}},{"source":"store/actions/auth.js","name":"authData","original":{"line":54,"column":12},"generated":{"line":1,"column":1489}},{"source":"store/actions/auth.js","original":{"line":54,"column":23},"generated":{"line":1,"column":1491}},{"source":"store/actions/auth.js","name":"email","original":{"line":55,"column":12},"generated":{"line":1,"column":1492}},{"source":"store/actions/auth.js","name":"email","original":{"line":55,"column":19},"generated":{"line":1,"column":1498}},{"source":"store/actions/auth.js","name":"password","original":{"line":56,"column":12},"generated":{"line":1,"column":1500}},{"source":"store/actions/auth.js","name":"password","original":{"line":56,"column":22},"generated":{"line":1,"column":1509}},{"source":"store/actions/auth.js","name":"returnSecureToken","original":{"line":57,"column":12},"generated":{"line":1,"column":1511}},{"source":"store/actions/auth.js","original":{"line":57,"column":31},"generated":{"line":1,"column":1530}},{"source":"store/actions/auth.js","name":"post","original":{"line":60,"column":14},"generated":{"line":1,"column":1533}},{"source":"store/actions/auth.js","name":"post","original":{"line":60,"column":14},"generated":{"line":1,"column":1535}},{"source":"store/actions/auth.js","name":"post","original":{"line":60,"column":14},"generated":{"line":1,"column":1543}},{"source":"store/actions/auth.js","name":"url","original":{"line":60,"column":19},"generated":{"line":1,"column":1548}},{"source":"store/actions/auth.js","name":"authData","original":{"line":60,"column":24},"generated":{"line":1,"column":1550}},{"source":"store/actions/auth.js","name":"then","original":{"line":61,"column":13},"generated":{"line":1,"column":1553}},{"source":"store/actions/auth.js","original":{"line":61,"column":18},"generated":{"line":1,"column":1558}},{"source":"store/actions/auth.js","name":"response","original":{"line":61,"column":18},"generated":{"line":1,"column":1567}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":64,"column":16},"generated":{"line":1,"column":1570}},{"source":"store/actions/auth.js","name":"setItem","original":{"line":64,"column":29},"generated":{"line":1,"column":1583}},{"source":"store/actions/auth.js","original":{"line":64,"column":37},"generated":{"line":1,"column":1591}},{"source":"store/actions/auth.js","name":"response","original":{"line":64,"column":46},"generated":{"line":1,"column":1599}},{"source":"store/actions/auth.js","name":"data","original":{"line":64,"column":55},"generated":{"line":1,"column":1601}},{"source":"store/actions/auth.js","name":"idToken","original":{"line":64,"column":60},"generated":{"line":1,"column":1606}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":65,"column":16},"generated":{"line":1,"column":1615}},{"source":"store/actions/auth.js","name":"setItem","original":{"line":65,"column":29},"generated":{"line":1,"column":1628}},{"source":"store/actions/auth.js","original":{"line":65,"column":37},"generated":{"line":1,"column":1636}},{"source":"store/actions/auth.js","name":"response","original":{"line":65,"column":47},"generated":{"line":1,"column":1645}},{"source":"store/actions/auth.js","name":"data","original":{"line":65,"column":56},"generated":{"line":1,"column":1647}},{"source":"store/actions/auth.js","name":"localId","original":{"line":65,"column":61},"generated":{"line":1,"column":1652}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":66,"column":16},"generated":{"line":1,"column":1661}},{"source":"store/actions/auth.js","name":"setItem","original":{"line":66,"column":29},"generated":{"line":1,"column":1674}},{"source":"store/actions/auth.js","original":{"line":66,"column":37},"generated":{"line":1,"column":1682}},{"source":"store/actions/auth.js","name":"email","original":{"line":66,"column":46},"generated":{"line":1,"column":1690}},{"source":"store/actions/auth.js","name":"expiryTime","original":{"line":67,"column":20},"generated":{"line":1,"column":1693}},{"source":"store/actions/auth.js","name":"expiryTime","original":{"line":67,"column":20},"generated":{"line":1,"column":1697}},{"source":"store/actions/auth.js","original":{"line":67,"column":33},"generated":{"line":1,"column":1699}},{"source":"store/actions/auth.js","name":"Date","original":{"line":67,"column":37},"generated":{"line":1,"column":1703}},{"source":"store/actions/auth.js","original":{"line":67,"column":42},"generated":{"line":1,"column":1709}},{"source":"store/actions/auth.js","name":"Date","original":{"line":67,"column":46},"generated":{"line":1,"column":1713}},{"source":"store/actions/auth.js","name":"getTime","original":{"line":67,"column":53},"generated":{"line":1,"column":1719}},{"source":"store/actions/auth.js","original":{"line":67,"column":91},"generated":{"line":1,"column":1729}},{"source":"store/actions/auth.js","name":"response","original":{"line":67,"column":65},"generated":{"line":1,"column":1733}},{"source":"store/actions/auth.js","name":"data","original":{"line":67,"column":74},"generated":{"line":1,"column":1735}},{"source":"store/actions/auth.js","name":"expiresIn","original":{"line":67,"column":79},"generated":{"line":1,"column":1740}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":68,"column":16},"generated":{"line":1,"column":1751}},{"source":"store/actions/auth.js","name":"setItem","original":{"line":68,"column":29},"generated":{"line":1,"column":1764}},{"source":"store/actions/auth.js","original":{"line":68,"column":37},"generated":{"line":1,"column":1772}},{"source":"store/actions/auth.js","name":"expiryTime","original":{"line":68,"column":51},"generated":{"line":1,"column":1785}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":69,"column":16},"generated":{"line":1,"column":1788}},{"source":"store/actions/auth.js","name":"authSuccess","original":{"line":69,"column":25},"generated":{"line":1,"column":1790}},{"source":"store/actions/auth.js","name":"response","original":{"line":69,"column":37},"generated":{"line":1,"column":1792}},{"source":"store/actions/auth.js","name":"data","original":{"line":69,"column":46},"generated":{"line":1,"column":1794}},{"source":"store/actions/auth.js","name":"email","original":{"line":69,"column":52},"generated":{"line":1,"column":1799}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":70,"column":16},"generated":{"line":1,"column":1803}},{"source":"store/actions/auth.js","name":"checkTimeout","original":{"line":70,"column":25},"generated":{"line":1,"column":1805}},{"source":"store/actions/auth.js","name":"response","original":{"line":70,"column":38},"generated":{"line":1,"column":1807}},{"source":"store/actions/auth.js","name":"data","original":{"line":70,"column":47},"generated":{"line":1,"column":1809}},{"source":"store/actions/auth.js","name":"expiresIn","original":{"line":70,"column":52},"generated":{"line":1,"column":1814}},{"source":"store/actions/auth.js","name":"catch","original":{"line":72,"column":13},"generated":{"line":1,"column":1828}},{"source":"store/actions/auth.js","original":{"line":72,"column":19},"generated":{"line":1,"column":1834}},{"source":"store/actions/auth.js","name":"err","original":{"line":72,"column":19},"generated":{"line":1,"column":1843}},{"source":"store/actions/auth.js","name":"console","original":{"line":73,"column":16},"generated":{"line":1,"column":1846}},{"source":"store/actions/auth.js","name":"log","original":{"line":73,"column":24},"generated":{"line":1,"column":1854}},{"source":"store/actions/auth.js","original":{"line":73,"column":28},"generated":{"line":1,"column":1858}},{"source":"store/actions/auth.js","name":"err","original":{"line":73,"column":42},"generated":{"line":1,"column":1871}},{"source":"store/actions/auth.js","name":"response","original":{"line":73,"column":46},"generated":{"line":1,"column":1873}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":74,"column":16},"generated":{"line":1,"column":1883}},{"source":"store/actions/auth.js","name":"authFail","original":{"line":74,"column":25},"generated":{"line":1,"column":1885}},{"source":"store/actions/auth.js","name":"err","original":{"line":74,"column":34},"generated":{"line":1,"column":1887}},{"source":"store/actions/auth.js","name":"response","original":{"line":74,"column":38},"generated":{"line":1,"column":1889}},{"source":"store/actions/auth.js","name":"data","original":{"line":74,"column":47},"generated":{"line":1,"column":1898}},{"source":"store/actions/auth.js","name":"error","original":{"line":74,"column":52},"generated":{"line":1,"column":1903}},{"source":"store/actions/auth.js","name":"message","original":{"line":74,"column":58},"generated":{"line":1,"column":1909}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1923}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1931}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1940}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":1942}},{"source":"store/actions/auth.js","name":"autoSignin","original":{"line":81,"column":13},"generated":{"line":1,"column":1946}},{"source":"store/actions/auth.js","original":{"line":81,"column":26},"generated":{"line":1,"column":1948}},{"source":"store/actions/auth.js","original":{"line":82,"column":11},"generated":{"line":1,"column":1959}},{"source":"store/actions/auth.js","original":{"line":82,"column":11},"generated":{"line":1,"column":1966}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":82,"column":11},"generated":{"line":1,"column":1975}},{"source":"store/actions/auth.js","original":{"line":84,"column":11},"generated":{"line":1,"column":1978}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":84,"column":12},"generated":{"line":1,"column":1981}},{"source":"store/actions/auth.js","name":"getItem","original":{"line":84,"column":25},"generated":{"line":1,"column":1994}},{"source":"store/actions/auth.js","original":{"line":84,"column":33},"generated":{"line":1,"column":2002}},{"source":"store/actions/auth.js","original":{"line":87,"column":14},"generated":{"line":1,"column":2011}},{"source":"store/actions/auth.js","original":{"line":87,"column":17},"generated":{"line":1,"column":2014}},{"source":"store/actions/auth.js","name":"Date","original":{"line":87,"column":21},"generated":{"line":1,"column":2018}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":87,"column":26},"generated":{"line":1,"column":2023}},{"source":"store/actions/auth.js","name":"getItem","original":{"line":87,"column":39},"generated":{"line":1,"column":2036}},{"source":"store/actions/auth.js","original":{"line":87,"column":47},"generated":{"line":1,"column":2044}},{"source":"store/actions/auth.js","original":{"line":87,"column":62},"generated":{"line":1,"column":2059}},{"source":"store/actions/auth.js","name":"Date","original":{"line":87,"column":66},"generated":{"line":1,"column":2063}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":89,"column":12},"generated":{"line":1,"column":2068}},{"source":"store/actions/auth.js","name":"logOut","original":{"line":89,"column":21},"generated":{"line":1,"column":2070}},{"source":"store/actions/auth.js","original":{"line":90,"column":13},"generated":{"line":1,"column":2079}},{"source":"store/actions/auth.js","name":"authData","original":{"line":91,"column":18},"generated":{"line":1,"column":2080}},{"source":"store/actions/auth.js","name":"authData","original":{"line":91,"column":18},"generated":{"line":1,"column":2084}},{"source":"store/actions/auth.js","original":{"line":91,"column":29},"generated":{"line":1,"column":2086}},{"source":"store/actions/auth.js","name":"idToken","original":{"line":92,"column":16},"generated":{"line":1,"column":2087}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":92,"column":25},"generated":{"line":1,"column":2095}},{"source":"store/actions/auth.js","name":"getItem","original":{"line":92,"column":38},"generated":{"line":1,"column":2108}},{"source":"store/actions/auth.js","original":{"line":92,"column":46},"generated":{"line":1,"column":2116}},{"source":"store/actions/auth.js","name":"localId","original":{"line":93,"column":16},"generated":{"line":1,"column":2125}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":93,"column":24},"generated":{"line":1,"column":2133}},{"source":"store/actions/auth.js","name":"getItem","original":{"line":93,"column":37},"generated":{"line":1,"column":2146}},{"source":"store/actions/auth.js","original":{"line":93,"column":45},"generated":{"line":1,"column":2154}},{"source":"store/actions/auth.js","name":"expiresIn","original":{"line":95,"column":16},"generated":{"line":1,"column":2165}},{"source":"store/actions/auth.js","original":{"line":95,"column":26},"generated":{"line":1,"column":2167}},{"source":"store/actions/auth.js","name":"Date","original":{"line":95,"column":30},"generated":{"line":1,"column":2171}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":95,"column":35},"generated":{"line":1,"column":2176}},{"source":"store/actions/auth.js","name":"getItem","original":{"line":95,"column":48},"generated":{"line":1,"column":2189}},{"source":"store/actions/auth.js","original":{"line":95,"column":56},"generated":{"line":1,"column":2197}},{"source":"store/actions/auth.js","name":"email","original":{"line":96,"column":16},"generated":{"line":1,"column":2212}},{"source":"store/actions/auth.js","name":"localStorage","original":{"line":96,"column":22},"generated":{"line":1,"column":2214}},{"source":"store/actions/auth.js","name":"getItem","original":{"line":96,"column":35},"generated":{"line":1,"column":2227}},{"source":"store/actions/auth.js","original":{"line":96,"column":43},"generated":{"line":1,"column":2235}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":97,"column":12},"generated":{"line":1,"column":2244}},{"source":"store/actions/auth.js","name":"authSuccess","original":{"line":97,"column":21},"generated":{"line":1,"column":2246}},{"source":"store/actions/auth.js","name":"authData","original":{"line":97,"column":33},"generated":{"line":1,"column":2248}},{"source":"store/actions/auth.js","name":"email","original":{"line":97,"column":43},"generated":{"line":1,"column":2250}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":99,"column":12},"generated":{"line":1,"column":2254}},{"source":"store/actions/auth.js","name":"checkTimeout","original":{"line":99,"column":21},"generated":{"line":1,"column":2256}},{"source":"store/actions/auth.js","name":"expiresIn","original":{"line":99,"column":35},"generated":{"line":1,"column":2259}},{"source":"store/actions/auth.js","name":"getTime","original":{"line":99,"column":45},"generated":{"line":1,"column":2261}},{"source":"store/actions/auth.js","original":{"line":99,"column":56},"generated":{"line":1,"column":2272}},{"source":"store/actions/auth.js","name":"Date","original":{"line":99,"column":60},"generated":{"line":1,"column":2276}},{"source":"store/actions/auth.js","name":"getTime","original":{"line":99,"column":67},"generated":{"line":1,"column":2282}},{"source":"store/actions/auth.js","original":{"line":99,"column":79},"generated":{"line":1,"column":2293}},{"source":"store/actions/auth.js","name":"dispatch","original":{"line":86,"column":12},"generated":{"line":1,"column":2304}},{"source":"store/actions/auth.js","name":"logOut","original":{"line":86,"column":21},"generated":{"line":1,"column":2306}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":2313}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":2321}},{"source":"store/actions/auth.js","original":{"line":81,"column":7},"generated":{"line":1,"column":2332}}],"sources":{"store/actions/auth.js":"import * as actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nconst authStart = () => {\r\n    return {\r\n        type: actionTypes.AUTH_START\r\n    }\r\n}\r\nconst authSuccess = (authData, email) => {\r\n\r\n   \r\n    return {\r\n        type: actionTypes.AUTH_SUCCESS,\r\n        idToken: authData.idToken,\r\n        userID: authData.localId,\r\n        email: email\r\n    }\r\n}\r\nconst authFail = (error) => {\r\n    return {\r\n        type: actionTypes.AUTH_FAILED,\r\n        error: error\r\n    }\r\n}\r\n\r\nexport const logOut = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('email')\r\n    localStorage.removeItem('expiryTime')\r\n    return {\r\n        type: actionTypes.LOG_OUT\r\n    }\r\n}\r\n\r\nconst checkTimeout = (expirationTime) => {\r\n    return dispatch => {\r\n        setInterval(() => {\r\n         //   console.log(expirationTime)\r\n           // dispatch(logOut())\r\n        }, expirationTime * 1000);\r\n    }\r\n\r\n}\r\n\r\nexport const authInit = (email, password, isSignup) => {\r\n    return dispatch => {\r\n        //console.log(\"actions: \",email,password)\r\n        dispatch(authStart())\r\n        let url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBeNNEfi6Wqci0sjvsd8reJBu1KgGjSkxU';\r\n        if (!isSignup)\r\n            url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBeNNEfi6Wqci0sjvsd8reJBu1KgGjSkxU'\r\n\r\n        let authData = {\r\n            email: email,\r\n            password: password,\r\n            returnSecureToken: true\r\n        }\r\n\r\n        axios.post(url, authData)\r\n            .then(response => {\r\n             //   console.log(\"Auth success\", response.data);\r\n            //stored locally for auto login\r\n                localStorage.setItem('token', response.data.idToken);\r\n                localStorage.setItem('userId', response.data.localId);\r\n                localStorage.setItem('email', email);\r\n                let expiryTime = new Date(new Date().getTime() + response.data.expiresIn * 1000);\r\n                localStorage.setItem('expiryTime', expiryTime);\r\n                dispatch(authSuccess(response.data, email));\r\n                dispatch(checkTimeout(response.data.expiresIn))\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Auth Error\", err.response);\r\n                dispatch(authFail(err.response.data.error.message))\r\n            })\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const autoSignin = () => {\r\n    return dispatch => {\r\n\r\n        if(!localStorage.getItem('token')){\r\n            \r\n            dispatch(logOut())\r\n        }else if(new Date(localStorage.getItem('expiryTime'))<new Date()){\r\n            \r\n            dispatch(logOut())\r\n        }else{\r\n            const authData = {\r\n                idToken: localStorage.getItem('token'),\r\n                localId:localStorage.getItem('userId'),            \r\n            }\r\n            let expiresIn=new Date(localStorage.getItem('expiryTime'));\r\n            let email=localStorage.getItem('email');\r\n            dispatch(authSuccess(authData, email));\r\n           // console.log((expiresIn.getTime()-(new Date().getTime()))/1000)\r\n            dispatch(checkTimeout((expiresIn.getTime()-(new Date().getTime()))/1000))\r\n        }\r\n\r\n\r\n        \r\n    }\r\n}"},"lineCount":null}},"hash":"16a617bdd7261a0fa27da38f462c01c2","cacheData":{"env":{}}}